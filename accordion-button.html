<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-image/iron-image.html">
<!--

Shows drop down menu (works on chrome)

### Usage
The list displayed in the drop down menu can be set as an attribute.

    <drop-menu list-items='["first" ,"second"]'></drop-menu>

For an overlayed drop menu:

    <drop-menu overlay-menu list-items='["first" ,"second"]'></drop-menu>

### Styling
 Custom property | Description | Default
----------------|-------------|----------
`--item-background-color` | List item backround color | `#f1ecef`
`--item-color` | List item color used for fonts | `#302f31`
`--close-color` | Icon button hover color | `4775D1`
`--content-background` | Drop menu's background color | `white`
`--close-color` | Icon button hover color | `4775D1`
`--icon-button` | Mixin applied the icon button | `{}`

@demo demo/drop-menu-demo.html
-->
<dom-module id="accordion-button">
    <template>
        <style>
            :host {}

            .bass {
                user-select: none;
                height: 5.4vh;
                width: 5.4vh;
            }

            .treble {
                user-select: none;
                margin-top:-1vh;
                height: 6.8vh;
                width: 6.8vh;
            }
            [box]{
                /*height:6.8vh;*/
                /*width:6.8vh;*/
                background-color: var(--content-background) ;
                box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.14),
                            0 1px 8px 0 rgba(0, 0, 0, 0.12),
                            0 3px 3px -2px rgba(0, 0, 0, 0.4);
                /*border: 1px solid #c0c0c0;*/
                border-radius: 100%;
            }
        </style>
        <!-- local DOM -->
        <!-- <iron-image src={{_computeColor(state)}} sizing='contain'  class$="{{buttonType}}" ></iron-image> -->
        <div box  class$="{{buttonType}}" style$= "background-color:{{_computeColor(state)}} ;"></div>
    </template>

    <script>
        Polymer({
            is: "accordion-button",
            observers: [],
            behaviors: [],
            listeners: {},
            properties: {
                pressed:{
                    type:Boolean,
                    observer:'_changeState'
                },
                state: {
                    type: Number
                },
                buttonType: {
                    type: String
                }
            },
            _changeState: function(){
                if( this.state=== 0)
                    this.state=1 ;
                else if(this.state===1)
                    this.state=0 ;
            },
            _computeColor: function(state) {
                switch (state) {
                    case 0:
                        return 'white' ;
                    case 1:
                        return '#4775D1' ;
                    case 2:
                        return '#CC6666';
                }
            },
            ready: function () {
                Polymer.RenderStatus.afterNextRender(this, function(){
                    if(!this.state)
                        this.state=0 ;
                }) ;
            }
        });
    </script>
</dom-module>
