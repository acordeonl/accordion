<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../local-dom/local-dom.html" async>
<link rel="import" href="./accordion-button.html" async>
<link rel="import" href="../animation-behaviors/scale-up-behavior.html">
<link rel="import" href="../midi-manager/midi-manager.html">
<!--

Shows drop down menu (works on chrome)

### Usage
The list displayed in the drop down menu can be set as an attribute.

    <drop-menu list-items='["first" ,"second"]'></drop-menu>

For an overlayed drop menu:

    <drop-menu overlay-menu list-items='["first" ,"second"]'></drop-menu>

### Styling
 Custom property | Description | Default
----------------|-------------|----------
`--item-background-color` | List item backround color | `#f1ecef`
`--item-color` | List item color used for fonts | `#302f31`
`--close-color` | Icon button hover color | `4775D1`
`--content-background` | Drop menu's background color | `white`
`--close-color` | Icon button hover color | `4775D1`
`--icon-button` | Mixin applied the icon button | `{}`

@demo demo/drop-menu-demo.html
-->
<dom-module id="accordion-bass">
    <template>
        <style>
            :host {
            }
            local-dom{
                height: 100vh ;
                @apply(--layout-horizontal);
                @apply(--layout-center);
                @apply(--layout-justified);
            }
            #col {
                padding: 0.5vw;
                height: 51vh;
                @apply(--layout-vertical);
                @apply(--layout-justified);
            }

            [mobile] #col {
                padding: 1.8vw;
            }

            [tablet] #col{
                padding: 1.2vw ;
            }
        </style>
        <!-- local DOM -->
        <midi-manager on-note-on='_noteOn' on-note-off='_noteOff'></midi-manager>
        <local-dom mobile="{{mobile}}" tablet="{{tablet}}" laptop="{{laptop}}" >
            <div id="col">
                <accordion-button button-type="bass"></accordion-button>
                <accordion-button button-type="bass"></accordion-button>
                <accordion-button button-type="bass"></accordion-button>
                <accordion-button button-type="bass"></accordion-button>
                <accordion-button button-type="bass"></accordion-button>
                <accordion-button button-type="bass"></accordion-button>
            </div>
            <div id="col">
                <accordion-button button-type="bass"></accordion-button>
                <accordion-button button-type="bass"></accordion-button>
                <accordion-button button-type="bass" state="1"></accordion-button>
                <accordion-button button-type="bass" state="1"></accordion-button>
                <accordion-button button-type="bass"></accordion-button>
                <accordion-button button-type="bass"></accordion-button>
            </div>
        <local-dom/>
    </template>

    <script>
        Polymer({
            is: "accordion-bass",
            observers: ['_swap(showingTreble)'],
            behaviors: [ScaleUpBehavior],
            listeners: {},
            properties: {
            },
            _noteOn: function(e){
                // console.log("note on " + e.detail.midiNote  + " " + e.detail.velocity);
            },
            _noteOff: function(e){
                // console.log("note off " + e.detail.midiNote  + " " + e.detail.velocity);
            },
            _swap: function(showingTreble){
                if(!showingTreble)
                    this.playAnimation('entry');
            },
            ready: function () {
                // Polymer.RenderStatus.afterNextRender(this, function(){
                    this.playAnimation('entry');
                // }) ;
            }
        });
    </script>
</dom-module>
